<div class="posts hanken">
  <div class="post-page">
    <div class="post-header">
      <h3>{{post.title}}</h3>
      <h4>Posted by
        <span
          id="post-username"
          data-username="{{post.vector_space_db_user.username}}"
        >{{post.vector_space_db_user.username}}</span>
        on
        {{getDate post.date}}</h4>
    </div>
    <div class="post-body">
      <p>{{post.content}}</p>
      {{#ifvalue post.vector_space_db_user.username value=username}}
        <div class="post-body-icons">
          <i class="fa-regular fa-pen-to-square" id="edit-post"></i>
          <i class="fa-regular fa-trash-can" id="delete-post"></i>
        </div>
      {{/ifvalue}}
    </div>
  </div>

  <section class="comments">
    {{#each post.vector_space_db_comments as |comment|}}
      <div class="comment light-background" data-id="{{comment.id}}">
        <div class="comment-header">
          <h4>Posted by
            <span
              id="post-username"
            >{{comment.vector_space_db_user.username}}</span>
            on
            {{getDate comment.date}}</h4>
        </div>
        <div class="comment-body">
          <p class="comment-text">{{comment.content}}</p>
          {{#ifvalue comment.vector_space_db_user.username value=username}}
            <i class="fa-regular fa-trash-can" id="delete-comment"></i>
          {{/ifvalue}}
        </div>
      </div>
    {{/each}}
  </section>
</div>

{{#if signedIn}}
  <div id="new-comment-outer">
    <section class="hanken full-border" id="new-comment">
      <p id="plus"><i class="fa-solid fa-plus"></i> Add comment</p>
    </section>
  </div>
{{/if}}

<div class="hidden hanken" id="new-comment-section">
  <section
    class="modal-look posts fade-in-quick"
    id="new-comment-section-inner"
  >
    <div id="title-and-x">
      <p>New comment:</p>
      <i class="fa-solid fa-x" id="comment-x-out"></i>
    </div>
    <p class="hidden comment-alert" id="comment-content-alert">Please enter
      content for your comment</p>
    <input type="text" id="comment-content" name="comment-content" />
    <p class="hidden comment-alert" id="comment-alert">Sorry, we weren't able to
      create that comment. Try again later!
    </p>
    <button id="post-new-comment-button">Comment</button>
  </section>
</div>

<div class="hidden hanken" id="edit-post-section">
  <section class="modal-look posts fade-in-quick" id="edit-post-section-inner">
    <div id="title-and-x">
      <p>Title:</p>
      <i class="fa-solid fa-x" id="edit-x-out"></i>
    </div>
    <p class="hidden post-alert" id="post-title-alert">Please enter a title for
      your post</p>
    <input type="text" id="edit-post-title" name="edit-post-title" />
    <p id="new-post-content">Content:</p>
    <p class="hidden post-alert" id="post-content-alert">Please enter content
      for your post</p>
    <input type="text" id="edit-post-content" name="edit-post-content" />
    <p class="hidden post-alert" id="post-alert">Sorry, we weren't able to
      update your post. Try again later!
    </p>
    <button id="post-edited-post-button">Edit</button>
  </section>
</div>

{{! JAVASCRIPT }}
<script src="/js/post-page.js"></script>